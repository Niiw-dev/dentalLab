{% extends 'loginregister.html' %}

{% load static %}

{% block title %}Cambiar Contraseña | Laboratorio Dental{% endblock %}

{% block css %}
<link rel="stylesheet" href="{% static 'css/olvido_contrasena.css' %}?v1.8">
<link rel="stylesheet" href="{% static 'css/confirmar_contrasena.css' %}?v1.8">
{% endblock %}

{% block content %}
<div class="center">
  <div class="login-form" style="margin-top: -60px; width: 50rem;">
    <div class="form-inner">
      <h1>Restablecer contraseña</h1>
      <form method="post" id="password-reset-form">
        {% csrf_token %}
        <input type="hidden" name="uidb64" value="{{ uidb64 }}">
        <input type="hidden" name="token" value="{{ token }}">
        <div class="input-wrapper">
          <label for="new_password1">Contraseña Nueva</label>
          <div class="input-group">
            <input type="password" id="new_password1" name="new_password1" class="form-control" required>
            <button type="button" id="togglePassword" class="btn btn-outline-secondary">
              <i class="fas fa-eye"></i> <!-- Ícono del ojo -->
            </button>
          </div>
          <div id="password-requirements" class="mt-2">
            <p>La contraseña debe cumplir los siguientes requisitos:</p>
            <ul>
              <li id="length">Al menos 8 caracteres</li>
              <li id="uppercase">Al menos una letra mayúscula</li>
              <li id="lowercase">Al menos una letra minúscula</li>
              <li id="number">Al menos un número</li>
              <li id="special">Al menos un carácter especial</li>
            </ul>
          </div>
          <div id="new_password1_errors" class="text-danger"></div>
        </div>
        <div class="input-wrapper">
          <label for="new_password2">Confirmar contraseña nueva</label>
          <div class="input-group">
            <input type="password" id="new_password2" name="new_password2" class="form-control" required>
            <button type="button" id="toggleConfirmPassword" class="btn btn-outline-secondary">
              <i class="fas fa-eye"></i> <!-- Ícono del ojo -->
            </button>
          </div>
          <div id="new_password2_errors" class="text-danger"></div>
        </div>

        <div class="btn-container">
          <input type="submit" name="Enviar" value="Enviar" class="login-submit" />
        </div>
      </form>
    </div>
  </div>
</div>
{% endblock %}

{% block js %}
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="{% static 'js/validacion_contrasena.js' %}"></script>
{% endblock %}